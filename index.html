<!DOCTYPE html>
<html>
<head>
    <title>RoutineHub Direct Download</title>
    <script>
        const pathSegments = window.location.pathname.split('/').filter(Boolean);
        const shortcutId = pathSegments[1];
        fetch(`https://routinehub.co/api/v1/shortcuts/${shortcutId}/versions/latest`)
            .then(response => {
                if (!response.ok) throw new Error('Shortcut not found');
                return response.json();
            })
            .then(data => {
                window.location.href = `https://routinehub.co/download/${data.id}`;
            })
    </script>
</head>
<body>
    <h1>Redirecting to iCloud...</h1>
    <p>If the download doesn't start, <a id="fallbackLink" href="#">click here</a>.</p>
    <script>
        document.getElementById('fallbackLink').href = `https://routinehub.co/download/${shortcutId}`;
    </script>
</body>
</html>